import{m as y,j as e}from"./app-44G_5NsB.js";import{I as x}from"./InputLabel-7SAgBUys.js";import{P as f}from"./PrimaryButton-olGBlOKT.js";import{T as F}from"./TextInput-C74Pob2z.js";import N from"./CreateChoiceForm-B6Ph3TBB.js";import{T as I}from"./TextAreaInput-CfRw9ztl.js";import S from"./EditChoiceForm-BU9-qFT1.js";import{z as h}from"./transition-mkKO62-U.js";import"./Checkbox-B52UkFSC.js";import"./index.esm-CjPt-6xX.js";function z({game:a,question:r,choices:n,className:j=""}){let t={description:"",image:"",is_correct:!1,id:0};const{data:c,setData:m,post:g,patch:v,processing:d,recentlySuccessful:u}=y({gameId:a.id,question:r?r.question:"",image:r?r.image:"",correctPercent:100,choices:[t]}),C=i=>{i.preventDefault();let w=new FormData(i.target),b=Object.fromEntries(w.entries()),l=[],p=0;for(const[s,o]of Object.entries(b))s.includes(p.toString())?(s.toLowerCase().includes("description")&&(t.description=o.toString()),s.toLowerCase().includes("image")&&(t.image=o.toString()),s.toLowerCase().includes("is_correct")&&(t.is_correct=o.toString()==="on"),s.toLowerCase().includes("id")&&(t.id=parseInt(o.toString()))):(p++,l.push({...t}),t={description:"",image:"",is_correct:!1,id:0},s.toLowerCase().includes("description")&&(t.description=o.toString()));l.push({...t}),c.gameId=a.id,c.choices=l,r&&n?v(route("game.question.update",r.id)):g(route("game.question.store"))};return e.jsxs("section",{className:"max-w-full "+j,children:[e.jsx("header",{children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[e.jsxs("a",{className:"",href:route("game.edit",a.id),children:["< ",a.title]})," | Question"]})}),e.jsxs("form",{onSubmit:C,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"question",value:"Question"}),e.jsx(I,{id:"question",className:"mt-1 block w-full",value:c.question,onChange:i=>m("question",i.target.value),rows:2,required:!0})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"correct_percent",value:"Correct Percent"}),e.jsx(F,{id:"correctPercent",className:"mt-1 block w-fit",value:c.correctPercent,type:"number",onChange:i=>m("correctPercent",parseInt(i.target.value))})]}),e.jsx("div",{children:n?e.jsx(S,{choices:n}):e.jsx(N,{})}),e.jsx("div",{className:"flex items-center gap-4",children:n?e.jsxs(e.Fragment,{children:[e.jsx(f,{disabled:d,children:"Update Question"}),e.jsx(h,{show:u,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Created."})})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{disabled:d,children:"Create Question"}),e.jsx(h,{show:u,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Created."})})]})})]})]})}export{z as default};
