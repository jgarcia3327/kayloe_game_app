import{R as S}from"./app-44G_5NsB.js";var _e=e=>e.type==="checkbox",le=e=>e instanceof Date,W=e=>e==null;const fr=e=>typeof e=="object";var U=e=>!W(e)&&!Array.isArray(e)&&fr(e)&&!le(e),Cr=e=>U(e)&&e.target?_e(e.target)?e.target.checked:e.target.value:e,Or=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Tr=(e,s)=>e.has(Or(s)),Lr=e=>{const s=e.constructor&&e.constructor.prototype;return U(s)&&s.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let s;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Be&&(e instanceof Blob||i))&&(r||U(e)))if(s=r?[]:{},!r&&!Lr(e))s=e;else for(const u in e)e.hasOwnProperty(u)&&(s[u]=T(e[u]));else return e;return s}var he=e=>Array.isArray(e)?e.filter(Boolean):[],O=e=>e===void 0,d=(e,s,r)=>{if(!s||!U(e))return r;const i=he(s.split(/[,[\].]+?/)).reduce((u,l)=>W(u)?u:u[l],e);return O(i)||i===e?O(e[s])?r:e[s]:i},re=e=>typeof e=="boolean",Pe=e=>/^\w*$/.test(e),dr=e=>he(e.replace(/["|']|\]/g,"").split(/\.|\[/)),k=(e,s,r)=>{let i=-1;const u=Pe(s)?[s]:dr(s),l=u.length,y=l-1;for(;++i<l;){const _=u[i];let E=r;if(i!==y){const D=e[_];E=U(D)||Array.isArray(D)?D:isNaN(+u[i+1])?{}:[]}if(_==="__proto__"||_==="constructor"||_==="prototype")return;e[_]=E,e=e[_]}};const rr={BLUR:"blur",FOCUS_OUT:"focusout"},Y={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rr=S.createContext(null),Ur=()=>S.useContext(Rr);var Mr=(e,s,r,i=!0)=>{const u={defaultValues:s._defaultValues};for(const l in e)Object.defineProperty(u,l,{get:()=>{const y=l;return s._proxyFormState[y]!==Y.all&&(s._proxyFormState[y]=!i||Y.all),e[y]}});return u},te=e=>typeof e=="string",Ir=(e,s,r,i,u)=>te(e)?(i&&s.watch.add(e),d(r,e,u)):Array.isArray(e)?e.map(l=>(i&&s.watch.add(l),d(r,l))):(i&&(s.watchAll=!0),r),Nr=(e,s,r,i,u)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:u||!0}}:{},H=e=>Array.isArray(e)?e:[e],tr=()=>{let e=[];return{get observers(){return e},next:u=>{for(const l of e)l.next&&l.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(l=>l!==u)}}),unsubscribe:()=>{e=[]}}},Me=e=>W(e)||!fr(e);function ne(e,s){if(Me(e)||Me(s))return e===s;if(le(e)&&le(s))return e.getTime()===s.getTime();const r=Object.keys(e),i=Object.keys(s);if(r.length!==i.length)return!1;for(const u of r){const l=e[u];if(!i.includes(u))return!1;if(u!=="ref"){const y=s[u];if(le(l)&&le(y)||U(l)&&U(y)||Array.isArray(l)&&Array.isArray(y)?!ne(l,y):l!==y)return!1}}return!0}var q=e=>U(e)&&!Object.keys(e).length,qe=e=>e.type==="file",Z=e=>typeof e=="function",be=e=>{if(!Be)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},yr=e=>e.type==="select-multiple",We=e=>e.type==="radio",Br=e=>We(e)||_e(e),De=e=>be(e)&&e.isConnected;function Pr(e,s){const r=s.slice(0,-1).length;let i=0;for(;i<r;)e=O(e)?i++:e[s[i++]];return e}function qr(e){for(const s in e)if(e.hasOwnProperty(s)&&!O(e[s]))return!1;return!0}function N(e,s){const r=Array.isArray(s)?s:Pe(s)?[s]:dr(s),i=r.length===1?e:Pr(e,r),u=r.length-1,l=r[u];return i&&delete i[l],u!==0&&(U(i)&&q(i)||Array.isArray(i)&&qr(i))&&N(e,r.slice(0,-1)),e}var gr=e=>{for(const s in e)if(Z(e[s]))return!0;return!1};function Fe(e,s={}){const r=Array.isArray(e);if(U(e)||r)for(const i in e)Array.isArray(e[i])||U(e[i])&&!gr(e[i])?(s[i]=Array.isArray(e[i])?[]:{},Fe(e[i],s[i])):W(e[i])||(s[i]=!0);return s}function _r(e,s,r){const i=Array.isArray(e);if(U(e)||i)for(const u in e)Array.isArray(e[u])||U(e[u])&&!gr(e[u])?O(s)||Me(r[u])?r[u]=Array.isArray(e[u])?Fe(e[u],[]):{...Fe(e[u])}:_r(e[u],W(s)?{}:s[u],r[u]):r[u]=!ne(e[u],s[u]);return r}var ye=(e,s)=>_r(e,s,Fe(s));const sr={value:!1,isValid:!1},ir={value:!0,isValid:!0};var hr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?ir:{value:e[0].value,isValid:!0}:ir:sr}return sr},vr=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:i})=>O(e)?e:s?e===""?NaN:e&&+e:r&&te(e)?new Date(e):i?i(e):e;const ar={isValid:!1,value:null};var Ar=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,ar):ar;function nr(e){const s=e.ref;return qe(s)?s.files:We(s)?Ar(e.refs).value:yr(s)?[...s.selectedOptions].map(({value:r})=>r):_e(s)?hr(e.refs).value:vr(O(s.value)?e.ref.value:s.value,e)}var Wr=(e,s,r,i)=>{const u={};for(const l of e){const y=d(s,l);y&&k(u,l,y._f)}return{criteriaMode:r,names:[...e],fields:u,shouldUseNativeValidation:i}},me=e=>e instanceof RegExp,ge=e=>O(e)?e:me(e)?e.source:U(e)?me(e.value)?e.value.source:e.value:e,oe=e=>({isOnSubmit:!e||e===Y.onSubmit,isOnBlur:e===Y.onBlur,isOnChange:e===Y.onChange,isOnAll:e===Y.all,isOnTouch:e===Y.onTouched});const lr="AsyncFunction";var $r=e=>!!e&&!!e.validate&&!!(Z(e.validate)&&e.validate.constructor.name===lr||U(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===lr)),Hr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ie=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,s,r,i)=>{for(const u of r||Object.keys(e)){const l=d(e,u);if(l){const{_f:y,..._}=l;if(y){if(y.refs&&y.refs[0]&&s(y.refs[0],u)&&!i)return!0;if(y.ref&&s(y.ref,y.name)&&!i)return!0;if(ce(_,s))break}else if(U(_)&&ce(_,s))break}}};function ur(e,s,r){const i=d(e,r);if(i||Pe(r))return{error:i,name:r};const u=r.split(".");for(;u.length;){const l=u.join("."),y=d(s,l),_=d(e,l);if(y&&!Array.isArray(y)&&r!==l)return{name:r};if(_&&_.type)return{name:l,error:_};u.pop()}return{name:r}}var jr=(e,s,r,i)=>{r(e);const{name:u,...l}=e;return q(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(y=>s[y]===(!i||Y.all))},Kr=(e,s,r)=>!e||!s||e===s||H(e).some(i=>i&&(r?i===s:i.startsWith(s)||s.startsWith(i))),zr=(e,s,r,i,u)=>u.isOnAll?!1:!r&&u.isOnTouch?!(s||e):(r?i.isOnBlur:u.isOnBlur)?!e:(r?i.isOnChange:u.isOnChange)?e:!0,Yr=(e,s)=>!he(d(e,s)).length&&N(e,s),br=(e,s,r)=>{const i=H(d(e,r));return k(i,"root",s[r]),k(e,r,i),e},Ae=e=>te(e);function or(e,s,r="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||re(e)&&!e)return{type:r,message:Ae(e)?e:"",ref:s}}var ue=e=>U(e)&&!me(e)?e:{value:e,message:""},Ne=async(e,s,r,i,u,l)=>{const{ref:y,refs:_,required:E,maxLength:D,minLength:p,min:C,max:A,pattern:L,validate:G,name:B,valueAsNumber:fe,mount:J}=e._f,b=d(r,B);if(!J||s.has(B))return{};const Q=_?_[0]:y,X=w=>{u&&Q.reportValidity&&(Q.setCustomValidity(re(w)?"":w||""),Q.reportValidity())},M={},v=We(y),h=_e(y),F=v||h,x=(fe||qe(y))&&O(y.value)&&O(b)||be(y)&&y.value===""||b===""||Array.isArray(b)&&!b.length,j=Nr.bind(null,B,i,M),K=(w,m,R,$=se.maxLength,z=se.minLength)=>{const ee=w?m:R;M[B]={type:w?$:z,message:ee,ref:y,...j(w?$:z,ee)}};if(l?!Array.isArray(b)||!b.length:E&&(!F&&(x||W(b))||re(b)&&!b||h&&!hr(_).isValid||v&&!Ar(_).isValid)){const{value:w,message:m}=Ae(E)?{value:!!E,message:E}:ue(E);if(w&&(M[B]={type:se.required,message:m,ref:Q,...j(se.required,m)},!i))return X(m),M}if(!x&&(!W(C)||!W(A))){let w,m;const R=ue(A),$=ue(C);if(!W(b)&&!isNaN(b)){const z=y.valueAsNumber||b&&+b;W(R.value)||(w=z>R.value),W($.value)||(m=z<$.value)}else{const z=y.valueAsDate||new Date(b),ee=ve=>new Date(new Date().toDateString()+" "+ve),ie=y.type=="time",de=y.type=="week";te(R.value)&&b&&(w=ie?ee(b)>ee(R.value):de?b>R.value:z>new Date(R.value)),te($.value)&&b&&(m=ie?ee(b)<ee($.value):de?b<$.value:z<new Date($.value))}if((w||m)&&(K(!!w,R.message,$.message,se.max,se.min),!i))return X(M[B].message),M}if((D||p)&&!x&&(te(b)||l&&Array.isArray(b))){const w=ue(D),m=ue(p),R=!W(w.value)&&b.length>+w.value,$=!W(m.value)&&b.length<+m.value;if((R||$)&&(K(R,w.message,m.message),!i))return X(M[B].message),M}if(L&&!x&&te(b)){const{value:w,message:m}=ue(L);if(me(w)&&!b.match(w)&&(M[B]={type:se.pattern,message:m,ref:y,...j(se.pattern,m)},!i))return X(m),M}if(G){if(Z(G)){const w=await G(b,r),m=or(w,Q);if(m&&(M[B]={...m,...j(se.validate,m.message)},!i))return X(m.message),M}else if(U(G)){let w={};for(const m in G){if(!q(w)&&!i)break;const R=or(await G[m](b,r),Q,m);R&&(w={...R,...j(m,R.message)},X(R.message),i&&(M[B]=w))}if(!q(w)&&(M[B]={ref:Q,...w},!i))return M}}return X(!0),M};const Jr={mode:Y.onSubmit,reValidateMode:Y.onChange,shouldFocusError:!0};function Qr(e={}){let s={...Jr,...e},r={submitCount:0,isDirty:!1,isLoading:Z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const i={};let u=U(s.defaultValues)||U(s.values)?T(s.values||s.defaultValues)||{}:{},l=s.shouldUnregister?{}:T(u),y={action:!1,mount:!1,watch:!1},_={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},E,D=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let C={...p};const A={array:tr(),state:tr()},L=oe(s.mode),G=oe(s.reValidateMode),B=s.criteriaMode===Y.all,fe=t=>a=>{clearTimeout(D),D=setTimeout(t,a)},J=async t=>{if(!s.disabled&&(p.isValid||C.isValid||t)){const a=s.resolver?q((await x()).errors):await K(i,!0);a!==r.isValid&&A.state.next({isValid:a})}},b=(t,a)=>{!s.disabled&&(p.isValidating||p.validatingFields||C.isValidating||C.validatingFields)&&((t||Array.from(_.mount)).forEach(n=>{n&&(a?k(r.validatingFields,n,a):N(r.validatingFields,n))}),A.state.next({validatingFields:r.validatingFields,isValidating:!q(r.validatingFields)}))},Q=(t,a=[],n,f,c=!0,o=!0)=>{if(f&&n&&!s.disabled){if(y.action=!0,o&&Array.isArray(d(i,t))){const g=n(d(i,t),f.argA,f.argB);c&&k(i,t,g)}if(o&&Array.isArray(d(r.errors,t))){const g=n(d(r.errors,t),f.argA,f.argB);c&&k(r.errors,t,g),Yr(r.errors,t)}if((p.touchedFields||C.touchedFields)&&o&&Array.isArray(d(r.touchedFields,t))){const g=n(d(r.touchedFields,t),f.argA,f.argB);c&&k(r.touchedFields,t,g)}(p.dirtyFields||C.dirtyFields)&&(r.dirtyFields=ye(u,l)),A.state.next({name:t,isDirty:m(t,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else k(l,t,a)},X=(t,a)=>{k(r.errors,t,a),A.state.next({errors:r.errors})},M=t=>{r.errors=t,A.state.next({errors:r.errors,isValid:!1})},v=(t,a,n,f)=>{const c=d(i,t);if(c){const o=d(l,t,O(n)?d(u,t):n);O(o)||f&&f.defaultChecked||a?k(l,t,a?o:nr(c._f)):z(t,o),y.mount&&J()}},h=(t,a,n,f,c)=>{let o=!1,g=!1;const V={name:t};if(!s.disabled){if(!n||f){(p.isDirty||C.isDirty)&&(g=r.isDirty,r.isDirty=V.isDirty=m(),o=g!==V.isDirty);const I=ne(d(u,t),a);g=!!d(r.dirtyFields,t),I?N(r.dirtyFields,t):k(r.dirtyFields,t,!0),V.dirtyFields=r.dirtyFields,o=o||(p.dirtyFields||C.dirtyFields)&&g!==!I}if(n){const I=d(r.touchedFields,t);I||(k(r.touchedFields,t,n),V.touchedFields=r.touchedFields,o=o||(p.touchedFields||C.touchedFields)&&I!==n)}o&&c&&A.state.next(V)}return o?V:{}},F=(t,a,n,f)=>{const c=d(r.errors,t),o=(p.isValid||C.isValid)&&re(a)&&r.isValid!==a;if(s.delayError&&n?(E=fe(()=>X(t,n)),E(s.delayError)):(clearTimeout(D),E=null,n?k(r.errors,t,n):N(r.errors,t)),(n?!ne(c,n):c)||!q(f)||o){const g={...f,...o&&re(a)?{isValid:a}:{},errors:r.errors,name:t};r={...r,...g},A.state.next(g)}},x=async t=>{b(t,!0);const a=await s.resolver(l,s.context,Wr(t||_.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return b(t),a},j=async t=>{const{errors:a}=await x(t);if(t)for(const n of t){const f=d(a,n);f?k(r.errors,n,f):N(r.errors,n)}else r.errors=a;return a},K=async(t,a,n={valid:!0})=>{for(const f in t){const c=t[f];if(c){const{_f:o,...g}=c;if(o){const V=_.array.has(o.name),I=c._f&&$r(c._f);I&&p.validatingFields&&b([f],!0);const P=await Ne(c,_.disabled,l,B,s.shouldUseNativeValidation&&!a,V);if(I&&p.validatingFields&&b([f]),P[o.name]&&(n.valid=!1,a))break;!a&&(d(P,o.name)?V?br(r.errors,P,o.name):k(r.errors,o.name,P[o.name]):N(r.errors,o.name))}!q(g)&&await K(g,a,n)}}return n.valid},w=()=>{for(const t of _.unMount){const a=d(i,t);a&&(a._f.refs?a._f.refs.every(n=>!De(n)):!De(a._f.ref))&&xe(t)}_.unMount=new Set},m=(t,a)=>!s.disabled&&(t&&a&&k(l,t,a),!ne($e(),u)),R=(t,a,n)=>Ir(t,_,{...y.mount?l:O(a)?u:te(t)?{[t]:a}:a},n,a),$=t=>he(d(y.mount?l:u,t,s.shouldUnregister?d(u,t,[]):[])),z=(t,a,n={})=>{const f=d(i,t);let c=a;if(f){const o=f._f;o&&(!o.disabled&&k(l,t,vr(a,o)),c=be(o.ref)&&W(a)?"":a,yr(o.ref)?[...o.ref.options].forEach(g=>g.selected=c.includes(g.value)):o.refs?_e(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(V=>V===g.value):c===g.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(g=>g.checked=g.value===c):qe(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||A.state.next({name:t,values:T(l)})))}(n.shouldDirty||n.shouldTouch)&&h(t,c,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&Ve(t)},ee=(t,a,n)=>{for(const f in a){const c=a[f],o=`${t}.${f}`,g=d(i,o);(_.array.has(t)||U(c)||g&&!g._f)&&!le(c)?ee(o,c,n):z(o,c,n)}},ie=(t,a,n={})=>{const f=d(i,t),c=_.array.has(t),o=T(a);k(l,t,o),c?(A.array.next({name:t,values:T(l)}),(p.isDirty||p.dirtyFields||C.isDirty||C.dirtyFields)&&n.shouldDirty&&A.state.next({name:t,dirtyFields:ye(u,l),isDirty:m(t,o)})):f&&!f._f&&!W(o)?ee(t,o,n):z(t,o,n),Ie(t,_)&&A.state.next({...r}),A.state.next({name:y.mount?t:void 0,values:T(l)})},de=async t=>{y.mount=!0;const a=t.target;let n=a.name,f=!0;const c=d(i,n),o=g=>{f=Number.isNaN(g)||le(g)&&isNaN(g.getTime())||ne(g,d(l,n,g))};if(c){let g,V;const I=a.type?nr(c._f):Cr(t),P=t.type===rr.BLUR||t.type===rr.FOCUS_OUT,Dr=!Hr(c._f)&&!s.resolver&&!d(r.errors,n)&&!c._f.deps||zr(P,d(r.touchedFields,n),r.isSubmitted,G,L),Se=Ie(n,_,P);k(l,n,I),P?(c._f.onBlur&&c._f.onBlur(t),E&&E(0)):c._f.onChange&&c._f.onChange(t);const ke=h(n,I,P),pr=!q(ke)||Se;if(!P&&A.state.next({name:n,type:t.type,values:T(l)}),Dr)return(p.isValid||C.isValid)&&(s.mode==="onBlur"?P&&J():P||J()),pr&&A.state.next({name:n,...Se?{}:ke});if(!P&&Se&&A.state.next({...r}),s.resolver){const{errors:Ge}=await x([n]);if(o(I),f){const Er=ur(r.errors,i,n),er=ur(Ge,i,Er.name||n);g=er.error,n=er.name,V=q(Ge)}}else b([n],!0),g=(await Ne(c,_.disabled,l,B,s.shouldUseNativeValidation))[n],b([n]),o(I),f&&(g?V=!1:(p.isValid||C.isValid)&&(V=await K(i,!0)));f&&(c._f.deps&&Ve(c._f.deps),F(n,V,g,ke))}},ve=(t,a)=>{if(d(r.errors,a)&&t.focus)return t.focus(),1},Ve=async(t,a={})=>{let n,f;const c=H(t);if(s.resolver){const o=await j(O(t)?t:c);n=q(o),f=t?!c.some(g=>d(o,g)):n}else t?(f=(await Promise.all(c.map(async o=>{const g=d(i,o);return await K(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!f&&!r.isValid)&&J()):f=n=await K(i);return A.state.next({...!te(t)||(p.isValid||C.isValid)&&n!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:n}:{},errors:r.errors}),a.shouldFocus&&!f&&ce(i,ve,t?c:_.mount),f},$e=t=>{const a={...y.mount?l:u};return O(t)?a:te(t)?d(a,t):t.map(n=>d(a,n))},He=(t,a)=>({invalid:!!d((a||r).errors,t),isDirty:!!d((a||r).dirtyFields,t),error:d((a||r).errors,t),isValidating:!!d(r.validatingFields,t),isTouched:!!d((a||r).touchedFields,t)}),Fr=t=>{t&&H(t).forEach(a=>N(r.errors,a)),A.state.next({errors:t?r.errors:{}})},je=(t,a,n)=>{const f=(d(i,t,{_f:{}})._f||{}).ref,c=d(r.errors,t)||{},{ref:o,message:g,type:V,...I}=c;k(r.errors,t,{...I,...a,ref:f}),A.state.next({name:t,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&f&&f.focus&&f.focus()},mr=(t,a)=>Z(t)?A.state.subscribe({next:n=>t(R(void 0,a),n)}):R(t,a,!0),Ke=t=>A.state.subscribe({next:a=>{Kr(t.name,a.name,t.exact)&&jr(a,t.formState||p,kr,t.reRenderRoot)&&t.callback({values:{...l},...r,...a})}}).unsubscribe,Vr=t=>(y.mount=!0,C={...C,...t.formState},Ke({...t,formState:C})),xe=(t,a={})=>{for(const n of t?H(t):_.mount)_.mount.delete(n),_.array.delete(n),a.keepValue||(N(i,n),N(l,n)),!a.keepError&&N(r.errors,n),!a.keepDirty&&N(r.dirtyFields,n),!a.keepTouched&&N(r.touchedFields,n),!a.keepIsValidating&&N(r.validatingFields,n),!s.shouldUnregister&&!a.keepDefaultValue&&N(u,n);A.state.next({values:T(l)}),A.state.next({...r,...a.keepDirty?{isDirty:m()}:{}}),!a.keepIsValid&&J()},ze=({disabled:t,name:a})=>{(re(t)&&y.mount||t||_.disabled.has(a))&&(t?_.disabled.add(a):_.disabled.delete(a))},we=(t,a={})=>{let n=d(i,t);const f=re(a.disabled)||re(s.disabled);return k(i,t,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:t}},name:t,mount:!0,...a}}),_.mount.add(t),n?ze({disabled:re(a.disabled)?a.disabled:s.disabled,name:t}):v(t,!0,a.value),{...f?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:ge(a.min),max:ge(a.max),minLength:ge(a.minLength),maxLength:ge(a.maxLength),pattern:ge(a.pattern)}:{},name:t,onChange:de,onBlur:de,ref:c=>{if(c){we(t,a),n=d(i,t);const o=O(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Br(o),V=n._f.refs||[];if(g?V.find(I=>I===o):o===n._f.ref)return;k(i,t,{_f:{...n._f,...g?{refs:[...V.filter(De),o,...Array.isArray(d(u,t))?[{}]:[]],ref:{type:o.type,name:t}}:{ref:o}}}),v(t,!1,void 0,o)}else n=d(i,t,{}),n._f&&(n._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(Tr(_.array,t)&&y.action)&&_.unMount.add(t)}}},Ye=()=>s.shouldFocusError&&ce(i,ve,_.mount),xr=t=>{re(t)&&(A.state.next({disabled:t}),ce(i,(a,n)=>{const f=d(i,n);f&&(a.disabled=f._f.disabled||t,Array.isArray(f._f.refs)&&f._f.refs.forEach(c=>{c.disabled=f._f.disabled||t}))},0,!1))},Je=(t,a)=>async n=>{let f;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let c=T(l);if(A.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:g}=await x();r.errors=o,c=g}else await K(i);if(_.disabled.size)for(const o of _.disabled)k(c,o,void 0);if(N(r.errors,"root"),q(r.errors)){A.state.next({errors:{}});try{await t(c,n)}catch(o){f=o}}else a&&await a({...r.errors},n),Ye(),setTimeout(Ye);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(r.errors)&&!f,submitCount:r.submitCount+1,errors:r.errors}),f)throw f},wr=(t,a={})=>{d(i,t)&&(O(a.defaultValue)?ie(t,T(d(u,t))):(ie(t,a.defaultValue),k(u,t,T(a.defaultValue))),a.keepTouched||N(r.touchedFields,t),a.keepDirty||(N(r.dirtyFields,t),r.isDirty=a.defaultValue?m(t,T(d(u,t))):m()),a.keepError||(N(r.errors,t),p.isValid&&J()),A.state.next({...r}))},Qe=(t,a={})=>{const n=t?T(t):u,f=T(n),c=q(t),o=c?u:f;if(a.keepDefaultValues||(u=n),!a.keepValues){if(a.keepDirtyValues){const g=new Set([..._.mount,...Object.keys(ye(u,l))]);for(const V of Array.from(g))d(r.dirtyFields,V)?k(o,V,d(l,V)):ie(V,d(o,V))}else{if(Be&&O(t))for(const g of _.mount){const V=d(i,g);if(V&&V._f){const I=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(be(I)){const P=I.closest("form");if(P){P.reset();break}}}}for(const g of _.mount)ie(g,d(o,g))}l=T(o),A.array.next({values:{...o}}),A.state.next({values:{...o}})}_={mount:a.keepDirtyValues?_.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!p.isValid||!!a.keepIsValid||!!a.keepDirtyValues,y.watch=!!s.shouldUnregister,A.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:c?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ne(t,u)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&l?ye(u,l):r.dirtyFields:a.keepDefaultValues&&t?ye(u,t):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Xe=(t,a)=>Qe(Z(t)?t(l):t,a),Sr=(t,a={})=>{const n=d(i,t),f=n&&n._f;if(f){const c=f.refs?f.refs[0]:f.ref;c.focus&&(c.focus(),a.shouldSelect&&Z(c.select)&&c.select())}},kr=t=>{r={...r,...t}},Ze={control:{register:we,unregister:xe,getFieldState:He,handleSubmit:Je,setError:je,_subscribe:Ke,_runSchema:x,_getWatch:R,_getDirty:m,_setValid:J,_setFieldArray:Q,_setDisabledField:ze,_setErrors:M,_getFieldArray:$,_reset:Qe,_resetDefaultValues:()=>Z(s.defaultValues)&&s.defaultValues().then(t=>{Xe(t,s.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:w,_disableForm:xr,_subjects:A,_proxyFormState:p,get _fields(){return i},get _formValues(){return l},get _state(){return y},set _state(t){y=t},get _defaultValues(){return u},get _names(){return _},set _names(t){_=t},get _formState(){return r},get _options(){return s},set _options(t){s={...s,...t}}},subscribe:Vr,trigger:Ve,register:we,handleSubmit:Je,watch:mr,setValue:ie,getValues:$e,reset:Xe,resetField:wr,clearErrors:Fr,unregister:xe,setError:je,setFocus:Sr,getFieldState:He};return{...Ze,formControl:Ze}}var ae=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const r=(Math.random()*16+e)%16|0;return(s=="x"?r:r&3|8).toString(16)})},pe=(e,s,r={})=>r.shouldFocus||O(r.shouldFocus)?r.focusName||`${e}.${O(r.focusIndex)?s:r.focusIndex}.`:"",Ee=(e,s)=>[...e,...H(s)],Ce=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Oe(e,s,r){return[...e.slice(0,s),...H(r),...e.slice(s)]}var Te=(e,s,r)=>Array.isArray(e)?(O(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(s,1)[0]),e):[],Le=(e,s)=>[...H(s),...H(e)];function Xr(e,s){let r=0;const i=[...e];for(const u of s)i.splice(u-r,1),r++;return he(i).length?i:[]}var Re=(e,s)=>O(s)?[]:Xr(e,H(s).sort((r,i)=>r-i)),Ue=(e,s,r)=>{[e[s],e[r]]=[e[r],e[s]]},cr=(e,s,r)=>(e[s]=r,e);function et(e){const s=Ur(),{control:r=s.control,name:i,keyName:u="id",shouldUnregister:l,rules:y}=e,[_,E]=S.useState(r._getFieldArray(i)),D=S.useRef(r._getFieldArray(i).map(ae)),p=S.useRef(_),C=S.useRef(i),A=S.useRef(!1);C.current=i,p.current=_,r._names.array.add(i),y&&r.register(i,y),S.useEffect(()=>r._subjects.array.subscribe({next:({values:v,name:h})=>{if(h===C.current||!h){const F=d(v,C.current);Array.isArray(F)&&(E(F),D.current=F.map(ae))}}}).unsubscribe,[r]);const L=S.useCallback(v=>{A.current=!0,r._setFieldArray(i,v)},[r,i]),G=(v,h)=>{const F=H(T(v)),x=Ee(r._getFieldArray(i),F);r._names.focus=pe(i,x.length-1,h),D.current=Ee(D.current,F.map(ae)),L(x),E(x),r._setFieldArray(i,x,Ee,{argA:Ce(v)})},B=(v,h)=>{const F=H(T(v)),x=Le(r._getFieldArray(i),F);r._names.focus=pe(i,0,h),D.current=Le(D.current,F.map(ae)),L(x),E(x),r._setFieldArray(i,x,Le,{argA:Ce(v)})},fe=v=>{const h=Re(r._getFieldArray(i),v);D.current=Re(D.current,v),L(h),E(h),!Array.isArray(d(r._fields,i))&&k(r._fields,i,void 0),r._setFieldArray(i,h,Re,{argA:v})},J=(v,h,F)=>{const x=H(T(h)),j=Oe(r._getFieldArray(i),v,x);r._names.focus=pe(i,v,F),D.current=Oe(D.current,v,x.map(ae)),L(j),E(j),r._setFieldArray(i,j,Oe,{argA:v,argB:Ce(h)})},b=(v,h)=>{const F=r._getFieldArray(i);Ue(F,v,h),Ue(D.current,v,h),L(F),E(F),r._setFieldArray(i,F,Ue,{argA:v,argB:h},!1)},Q=(v,h)=>{const F=r._getFieldArray(i);Te(F,v,h),Te(D.current,v,h),L(F),E(F),r._setFieldArray(i,F,Te,{argA:v,argB:h},!1)},X=(v,h)=>{const F=T(h),x=cr(r._getFieldArray(i),v,F);D.current=[...x].map((j,K)=>!j||K===v?ae():D.current[K]),L(x),E([...x]),r._setFieldArray(i,x,cr,{argA:v,argB:F},!0,!1)},M=v=>{const h=H(T(v));D.current=h.map(ae),L([...h]),E([...h]),r._setFieldArray(i,[...h],F=>F,{},!0,!1)};return S.useEffect(()=>{if(r._state.action=!1,Ie(i,r._names)&&r._subjects.state.next({...r._formState}),A.current&&(!oe(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!oe(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([i]).then(v=>{const h=d(v.errors,i),F=d(r._formState.errors,i);(F?!h&&F.type||h&&(F.type!==h.type||F.message!==h.message):h&&h.type)&&(h?k(r._formState.errors,i,h):N(r._formState.errors,i),r._subjects.state.next({errors:r._formState.errors}))});else{const v=d(r._fields,i);v&&v._f&&!(oe(r._options.reValidateMode).isOnSubmit&&oe(r._options.mode).isOnSubmit)&&Ne(v,r._names.disabled,r._formValues,r._options.criteriaMode===Y.all,r._options.shouldUseNativeValidation,!0).then(h=>!q(h)&&r._subjects.state.next({errors:br(r._formState.errors,h,i)}))}r._subjects.state.next({name:i,values:T(r._formValues)}),r._names.focus&&ce(r._fields,(v,h)=>{if(r._names.focus&&h.startsWith(r._names.focus)&&v.focus)return v.focus(),1}),r._names.focus="",r._setValid(),A.current=!1},[_,i,r]),S.useEffect(()=>(!d(r._formValues,i)&&r._setFieldArray(i),()=>{const v=(h,F)=>{const x=d(r._fields,h);x&&x._f&&(x._f.mount=F)};r._options.shouldUnregister||l?r.unregister(i):v(i,!1)}),[i,r,u,l]),{swap:S.useCallback(b,[L,i,r]),move:S.useCallback(Q,[L,i,r]),prepend:S.useCallback(B,[L,i,r]),append:S.useCallback(G,[L,i,r]),remove:S.useCallback(fe,[L,i,r]),insert:S.useCallback(J,[L,i,r]),update:S.useCallback(X,[L,i,r]),replace:S.useCallback(M,[L,i,r]),fields:S.useMemo(()=>_.map((v,h)=>({...v,[u]:D.current[h]||ae()})),[_,u])}}function rt(e={}){const s=S.useRef(void 0),r=S.useRef(void 0),[i,u]=S.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...e.formControl?e.formControl:Qr(e),formState:i},e.formControl&&e.defaultValues&&!Z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const l=s.current.control;return l._options=e,S.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>u({...l._formState}),reRenderRoot:!0}),[l]),S.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),S.useEffect(()=>{if(l._proxyFormState.isDirty){const y=l._getDirty();y!==i.isDirty&&l._subjects.state.next({isDirty:y})}},[l,i.isDirty]),S.useEffect(()=>{e.values&&!ne(e.values,r.current)?(l._reset(e.values,l._options.resetOptions),r.current=e.values,u(y=>({...y}))):l._resetDefaultValues()},[e.values,l]),S.useEffect(()=>{e.errors&&!q(e.errors)&&l._setErrors(e.errors)},[e.errors,l]),S.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),S.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[e.shouldUnregister,l]),s.current.formState=Mr(i,l),s.current}export{et as a,rt as u};
